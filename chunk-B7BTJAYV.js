import{a as O}from"./chunk-FRMY5WGX.js";import{a as T}from"./chunk-XBBG2RYN.js";import{a as k,b as N,c as p,d as q,e as M,h as w,j as $,k as E,l as A,m as V,n as G,o as I,p as P,u as j,v as B,w as D}from"./chunk-L2Z3U5DT.js";import"./chunk-A7ZQXM6L.js";import"./chunk-6YC6D2A4.js";import"./chunk-A34XXWSO.js";import{$a as s,La as g,Ma as h,Na as b,Oa as C,Pa as z,Qa as v,Ra as n,Sa as l,Ta as d,W as f,X as x,Xa as Q,Za as m,gb as u,ib as F,qa as c,ua as y,ya as S}from"./chunk-L36VNRBB.js";function R(o,t){o&1&&(n(0,"small",3),u(1,"Quiz Title is required "),l())}function J(o,t){o&1&&(n(0,"small",3),u(1,"Question is required"),l())}function U(o,t){o&1&&d(0,"input",15)}function W(o,t){if(o&1){let e=Q();n(0,"input",20),m("click",function(){f(e);let r=s().$index,a=s().$index,_=s();return x(_.selectedOption(a,r))}),l()}if(o&2){let e,i=s().$implicit;v("value",(e=i.get("isCorrect"))==null?null:e.value)}}function Y(o,t){o&1&&(n(0,"small",3),u(1,"Option Text is required"),l())}function H(o,t){if(o&1){let e=Q();n(0,"div",13)(1,"div",14),g(2,U,1,0,"input",15)(3,W,1,1,"input",16),n(4,"label",17),d(5,"textarea",18),g(6,Y,2,0,"small",3),n(7,"img",19),m("click",function(){let r=f(e).$index,a=s().$index,_=s();return x(_.removeOption(a,r))}),l()()()()}if(o&2){let e,i,r=t.$implicit,a=t.$index,_=s().$implicit;v("formGroupName",a),c(2),h(((e=_.get("questionType"))==null?null:e.value)==="multiplechoice"?2:3),c(4),h((i=r.get("optionText"))!=null&&i.touched&&((i=r.get("optionText"))!=null&&i.invalid)?6:-1)}}function K(o,t){if(o&1){let e=Q();n(0,"h4"),u(1),l(),n(2,"div",7),d(3,"textarea",8),n(4,"select",9)(5,"option",10),u(6,"Multiple Choice"),l(),n(7,"option",11),u(8,"Single Choice"),l()(),d(9,"br"),g(10,J,2,0,"small",3),n(11,"div",12),C(12,H,8,3,"div",13,b),n(14,"button",5),m("click",function(){let r=f(e).$index,a=s();return x(a.addOption(r))}),u(15,"Add Option"),l()(),n(16,"button",5),m("click",function(){let r=f(e).$index,a=s();return x(a.removeQuestion(r))}),u(17,"Remove Question"),l()()}if(o&2){let e,i=t.$implicit,r=t.$index,a=s();c(),F("Question - ",r+1),c(),v("formGroupName",r),c(8),h((e=i.get("questionText"))!=null&&e.touched&&((e=i.get("text"))!=null&&e.invalid)?10:-1),c(2),z(a.getOptions(r).controls)}}function X(o,t){o&1&&(n(0,"h5"),u(1,"No Questions Added"),l())}var L=class o{constructor(t,e,i){this.fb=t;this.sendQuiz=e;this.login=i;this.MyQuiz=this.fb.group({title:["",p.required],isStarted:[!1],userId:[i.getUserId()],question:this.fb.array([this.fb.group({text:["",p.required],questionType:["multiplechoice"],options:this.fb.array([this.fb.group({isCorrect:[!0],optionText:["",p.required]})])})])})}MyQuiz;removeQuestion(t){this.Question.removeAt(t)}get title(){return this.MyQuiz.get("title")}get Question(){return this.MyQuiz.get("question")}get QType(){return this.MyQuiz.get("questionType")?.value}get options(){return this.MyQuiz.get("options")}selectedOption(t,e){this.getOptions(t).controls.map((i,r)=>{i.get("isCorrect")?.setValue(!1)}),this.getOptions(t).at(e).get("isCorrect")?.setValue(!0)}addOption(t){this.getOptions(t).push(this.fb.group({isCorrect:[!1],optionText:["",p.required]}))}removeOption(t,e){this.getOptions(t).removeAt(e)}addQuestion(){this.Question.push(this.fb.group({text:["",p.required],questionType:["singlechoice"],options:this.fb.array([this.fb.group({isCorrect:[!0],optionText:["",p.required]})])}))}getOptions(t){return this.Question.at(t).get("options")}optionClicked(t,e){this.getOptions(t).at(e).get("isCorrect")?.value}submitForm(){if(this.MyQuiz.invalid){alert("complete required fields before submit");return}console.log(this.MyQuiz.value);let t=JSON.parse(JSON.stringify(this.MyQuiz.value));this.sendQuiz.sendCreatedQuiz(t).subscribe(e=>{alert("Quiz Submitted Successfully QuizId"+e)}),console.log(this.MyQuiz?.value)}static \u0275fac=function(e){return new(e||o)(y(j),y(O),y(T))};static \u0275cmp=S({type:o,selectors:[["app-quiz"]],decls:16,vars:3,consts:[[1,"container","m-4","p-4"],[3,"ngSubmit","formGroup"],["type","text","name","Title","placeholder","Enter Title","formControlName","title",1,"w-100"],[1,"text-danger"],["formArrayName","question",1,"p-2","m-4","w-auto","d-flex","flex-column","justify-content-center","align-items-center"],["type","button",1,"form-control",3,"click"],["type","submit",1,"form-control"],[1,"w-auto",3,"formGroupName"],["name","Question","placeholder","Enter Question","formControlName","text","cols","50","rows","2",1,"form-control"],["name","QuestionType","formControlName","questionType",1,"form-select"],["value","multiplechoice"],["value","singlechoice"],["formArrayName","options",1,"card-body"],[3,"formGroupName"],[1,"form-check"],["type","checkbox","formControlName","isCorrect",1,"form-check-input","bordered"],["type","radio","name","i",1,"form-check-input","bordered",3,"value"],[1,"form-check-label","gap-2","d-flex","justify-content-center","align-items-center"],["name","textarea","cols","60","rows","1","formControlName","optionText","placeholder","Enter Option Text",1,"form-control"],["src","..\\images\\removeoption.png","alt","Remove Option","width","25","height","25",1,"",2,"cursor","pointer",3,"click"],["type","radio","name","i",1,"form-check-input","bordered",3,"click","value"]],template:function(e,i){e&1&&(n(0,"p"),u(1,"quiz works!"),l(),n(2,"h1"),u(3,"Quiz World!"),l(),n(4,"div",0)(5,"form",1),m("ngSubmit",function(){return i.submitForm()}),d(6,"input",2),g(7,R,2,0,"small",3),n(8,"div",4),C(9,K,18,3,null,null,b,!1,X,2,0,"h5"),n(12,"button",5),m("click",function(){return i.addQuestion()}),u(13,"Add Question"),l()(),n(14,"button",6),u(15,"Save & Submit"),l()()()),e&2&&(c(5),v("formGroup",i.MyQuiz),c(2),h(i.title!=null&&i.title.touched&&(i.title!=null&&i.title.invalid)?7:-1),c(2),z(i.Question.controls))},dependencies:[B,w,I,P,N,k,G,q,M,D,$,V,E,A],styles:["input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin:5px 0;border:2px solid #000000;border-radius:6px;padding:8px}button[_ngcontent-%COMP%]:hover{background-color:#04c;color:#fff;transform:translateY(-1px);box-shadow:0 2px 4px #00000026}"]})};export{L as Quiz};
