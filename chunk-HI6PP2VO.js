import{a as T}from"./chunk-IDFJ6CVA.js";import{a as y}from"./chunk-F6O4XHBG.js";import{b as V}from"./chunk-MYRLHBHN.js";import{u as M,v as P}from"./chunk-L2Z3U5DT.js";import"./chunk-A7ZQXM6L.js";import"./chunk-S2Y6LMPX.js";import"./chunk-A34XXWSO.js";import{$a as c,La as a,Ma as u,Oa as E,Pa as v,Ua as o,Va as r,W as m,Wa as f,X as x,Xa as C,Ya as k,_a as g,gb as d,hb as h,ib as p,qa as s,ua as w,ya as Q}from"./chunk-L36VNRBB.js";var b=class{questionType="multiplechoice";question_id=0;text="";options=[]};var S=(e,i)=>i.option_id,$=(e,i)=>i.question_id;function q(e,i){if(e&1){let t=C();o(0,"input",7),g("click",function(){m(t);let l=c().$index,_=c(3);return x(_.checkClicked(l))}),r()}if(e&2){let t=c().$index,n=c(3);k("checked",n.CurRes().includes(t))}}function A(e,i){if(e&1){let t=C();o(0,"input",8),g("click",function(){m(t);let l=c().$index,_=c(3);return x(_.RadioClicked(l))}),r()}if(e&2){let t=c().$index,n=c(3);k("checked",n.CurRes().includes(t))}}function F(e,i){if(e&1&&(o(0,"label"),a(1,q,1,1,"input",5)(2,A,1,1,"input",6),o(3,"span"),d(4),r()(),f(5,"br")),e&2){let t=i.$implicit,n=c(3);s(),u(n.getType()=="multiplechoice"?1:n.getType()=="singlechoice"?2:-1),s(3),h(t.optionText)}}function z(e,i){if(e&1){let t=C();o(0,"button",3),g("click",function(){m(t);let l=c(3);return x(l.next())}),d(1,"Save & Next"),r()}}function R(e,i){if(e&1){let t=C();o(0,"div",1)(1,"h2"),d(2),r(),o(3,"div",2),E(4,F,6,2,null,null,S),o(6,"span")(7,"button",3),g("click",function(){m(t);let l=c(2);return x(l.previous())}),d(8,"Previous"),r(),a(9,z,2,0,"button",4),r()()()}if(e&2){let t=c(2);s(2),h(t.getText()),s(2),v(t.currentQuestion().options),s(5),u(t.currentIndex<=t.ActQuiz.question.length-1?9:-1)}}function L(e,i){if(e&1){let t=C();o(0,"h4"),d(1,"Do you want to View Your Score and Correct Answers"),r(),o(2,"button",9),g("click",function(){m(t);let l=c(2);return x(l.viewResult())}),d(3,"View Answers"),r()}}function j(e,i){if(e&1&&(o(0,"div"),d(1),f(2,"img",13),r()),e&2){let t=c(2).$implicit;s(),p("",t.optionText," ")}}function N(e,i){if(e&1&&(o(0,"div",12),d(1),f(2,"img",14),r()),e&2){let t=c(2).$implicit;s(),p("",t.optionText," ")}}function B(e,i){if(e&1&&a(0,j,3,1,"div")(1,N,3,1,"div",12),e&2){let t=c().$implicit;u(t.isCorrect?0:1)}}function D(e,i){if(e&1&&(o(0,"div"),d(1),f(2,"img",13),r()),e&2){let t=c().$implicit;s(),p("",t.optionText," ")}}function G(e,i){if(e&1&&(o(0,"div"),d(1),r()),e&2){let t=c().$implicit;s(),h(t.optionText)}}function Y(e,i){if(e&1&&a(0,B,2,1)(1,D,3,1,"div")(2,G,2,1,"div"),e&2){let t,n=i.$implicit,l=i.$index,_=c().$index,O=c(3);u((t=O.currentRes.get(_))!=null&&t.includes(l)?0:n.isCorrect?1:2)}}function H(e,i){if(e&1&&(o(0,"div",10)(1,"div",11)(2,"h2"),d(3),r()()(),o(4,"div",2),E(5,Y,3,1,null,null,S),r()),e&2){let t,n=i.$implicit,l=i.$index,_=c(3);s(3),p("",n.text," "),s(2),v((t=_.ActQuiz.question.at(l))==null?null:t.options)}}function J(e,i){if(e&1&&(o(0,"h2"),d(1,"Quiz Answers"),r(),o(2,"h4"),d(3),r(),o(4,"h4"),d(5),r(),o(6,"div",1),E(7,H,7,1,null,null,$),r()),e&2){let t=c(2);s(3),p("Your Score is ",t.score),s(2),p("Accuracy: ",t.score/t.ActQuiz.question.length*100," %"),s(2),v(t.ActQuiz.question)}}function K(e,i){if(e&1&&(o(0,"div",0)(1,"h1"),d(2),r(),a(3,R,10,2,"div",1)(4,L,4,0),a(5,J,9,2),r()),e&2){let t=c();s(2),h(t.ActQuiz.title),s(),u(t.currentQuestion()&&t.currentIndex<t.ActQuiz.question.length?3:t.currentIndex==t.ActQuiz.question.length?4:-1),s(2),u(t.ViewAnswers?5:-1)}}function U(e,i){e&1&&(o(0,"h4"),d(1,"Questions Not AVAILABLE"),r())}var I=class e{constructor(i,t,n){this.fb=i;this.actRoute=t;this.qService=n;this.MyForm=this.fb.group({})}checkClicked(i){let t=this.CurRes();t.includes(i,0)?this.currentRes.set(this.currentIndex,t.filter(n=>n!=i)):(t.push(i),console.log(t),this.currentRes.set(this.currentIndex,t)),console.log("checkbox Clicked");for(let n in this.currentRes)console.log(`key: ${n} ${this.CurRes()}`)}CurRes(){let i=this.currentRes.get(this.currentIndex);return i||[]}RadioClicked(i){let t=[];t.push(i),this.currentRes.set(this.currentIndex,t),console.log("radio Clicked",t);for(let n in this.currentRes)console.log(`key: ${n} ${this.CurRes()}`)}MyForm;currentIndex=0;score=0;currentRes=new Map;ViewAnswers=!1;scoreMap=new Map;ActQuiz=new T;ngOnInit(){this.actRoute.queryParams.subscribe(i=>{let t=i.quizId,n=t?Number.parseInt(t):0;n!=0&&this.qService.fetchQuiz(n).subscribe(l=>{this.ActQuiz=l,console.log(l)})})}getType(){return this.currentQuestion().questionType}currentQuestion(){let i=this.ActQuiz.question.at(this.currentIndex);return i||new b}getText(){return this.currentQuestion().text}previous(){this.currentIndex>0&&(this.currentIndex-=1),console.log("previous->"+this.currentIndex)}Save(){this.CurRes().every(t=>{let n=this.currentQuestion().options.at(t);return n?n.isCorrect==!0:!1})&&this.scoreMap?.get(this.currentIndex)!=1?(this.score++,this.scoreMap.set(this.currentIndex,1)):this.scoreMap?.get(this.currentIndex)==1?this.score--:this.scoreMap.set(this.currentIndex,0)}next(){this.Save(),this.currentIndex<=this.ActQuiz.question.length-1&&this.currentIndex++,console.log("scores-> "+this.score)}viewResult(){this.ViewAnswers=!0}static \u0275fac=function(t){return new(t||e)(w(M),w(V),w(y))};static \u0275cmp=Q({type:e,selectors:[["app-view-question"]],decls:4,vars:1,consts:[[1,"question-container"],[1,"question-card"],[1,"options-group"],["type","button",3,"click"],["type","button"],["type","checkbox","name","`option_${i}`",3,"checked"],["type","radio",3,"checked"],["type","checkbox","name","`option_${i}`",3,"click","checked"],["type","radio",3,"click","checked"],["type","button",1,"submit-button",3,"click"],[1,"question-text"],[1,""],[1,"fw-bold"],["src",".\\images\\check.png","alt","correct Answer","width","20","height","20"],["src",".\\images\\cross.png","alt","wrong Answer","width","20","height","20"]],template:function(t,n){t&1&&(o(0,"p"),d(1,"view-question works!"),r(),a(2,K,6,3,"div",0)(3,U,2,0,"h4")),t&2&&(s(2),u(n.ActQuiz!=null?2:3))},dependencies:[P],styles:[".question-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:20px;margin:12% 12% 20px;border-radius:8px;background-color:#fff;flex-direction:column}.options-group[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;flex-direction:column;flex-wrap:wrap;gap:1px;margin:2px 10px 15px;font-size:110%;background-color:#f0f0f0}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:var(--light-purple);color:var(--text-color);margin:8%;padding:20px;display:flex;justify-content:center;align-items:center;min-height:100vh}.question-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 10px 15px}@media (max-width: 600px){body[_ngcontent-%COMP%]{padding:10px}.quiz-container[_ngcontent-%COMP%]{padding:20px}.options-group[_ngcontent-%COMP%]{flex-direction:column;gap:8px;margin:5px 0;align-items:stretch}.options-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:auto;padding:12px 15px}h1[_ngcontent-%COMP%]{font-size:1.8em}.submit-button[_ngcontent-%COMP%]{padding:15px 25px}}.quiz-container[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin:20px;border-radius:12px;box-shadow:0 4px 15px #0000001a;width:100%;max-width:800px}.options-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .options-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:var(--main-purple);width:1.25em;height:1.25em;margin:10px}.options-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:10px 15px;border:2px solid var(--main-purple);border-radius:20px;transition:background-color .2s,color .2s;flex-grow:1;min-width:100px}.options-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .options-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:var(--main-purple);color:#fff;border-color:var(--main-purple);font-weight:700}.light-green[_ngcontent-%COMP%]{background-color:#c1ecc1}.light-grey[_ngcontent-%COMP%]{background-color:#d3d3d3}.options-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .options-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:0}"]})};export{I as ViewQuestion};
