import{a as S}from"./chunk-ANKGLE3F.js";import{a as Q}from"./chunk-RM5DLGUE.js";import{a as C}from"./chunk-W3APYXDW.js";import"./chunk-BUXDDO6U.js";import"./chunk-A34XXWSO.js";import{$a as l,La as f,Ma as x,Na as b,Oa as v,Pa as z,Ua as o,Va as i,W as u,X as p,Xa as E,_a as _,gb as n,hb as d,ib as w,qa as s,ua as g,ya as h}from"./chunk-L36VNRBB.js";function I(r,t){if(r&1&&(o(0,"h4",0),n(1),i()),r&2){let e=l();s(),d(e.message)}}function q(r,t){if(r&1){let e=E();o(0,"tr")(1,"td"),n(2),i(),o(3,"td"),n(4),i(),o(5,"td"),n(6),i(),o(7,"td")(8,"button",2),n(9,"Edit"),i(),o(10,"button",3),_("click",function(){let c=u(e).$implicit,m=l(2);return p(m.StartQuiz(c))}),n(11),i(),o(12,"button",3),_("click",function(){let c=u(e).$implicit,m=l(2);return p(m.DeleteQuiz(c.quizId))}),n(13,"Delete"),i()()()}if(r&2){let e=t.$implicit,a=t.$index;s(2),d(a+1),s(2),d(e.quizId),s(2),d(e.title),s(5),w(" ",e.isStarted?"Stop":"Start",`
`)}}function M(r,t){if(r&1&&(o(0,"div",1)(1,"table")(2,"tr")(3,"th"),n(4,"SrNo"),i(),o(5,"th"),n(6,"Quiz Code"),i(),o(7,"th"),n(8,"Title"),i(),o(9,"th"),n(10,"Actions"),i()(),v(11,q,14,4,"tr",null,b),i()()),r&2){let e=l();s(11),z(e.user.quizes)}}var y=class r{constructor(t,e){this.login=t;this.qService=e}DeleteQuiz(t){confirm("Are you sure to delete this quiz?")&&this.qService.deleteQuiz(t).subscribe(e=>{e.messg=="Quiz Deleted successfully"&&(this.showAlert(e.messg),this.user.quizes=this.user.quizes.filter(a=>a.quizId!=t))})}StartQuiz(t){this.qService.toggleQuizstatus(t.quizId).subscribe(e=>{t.isStarted=e.started,console.log(e),this.showAlert(e.messg)})}user=new S;toggle=!1;message="";ngOnInit(){console.log("from ViewQiuz->"+this.login.getUserId()),this.qService.FetchAllQuiz(this.login.getUserId()).subscribe({next:t=>{this.user=t},error:t=>{this.showAlert(t.Message)}})}showAlert(t){this.toggle=!0,this.message=t,setTimeout(()=>{this.toggle=!1},5e3)}static \u0275fac=function(e){return new(e||r)(g(C),g(Q))};static \u0275cmp=h({type:r,selectors:[["app-View-Quiz"]],decls:4,vars:2,consts:[[1,"alert","alert-success"],[1,"container"],["type","button"],["type","button",3,"click"]],template:function(e,a){e&1&&(o(0,"p"),n(1,"admin-dashboard works!"),i(),f(2,I,2,1,"h4",0),f(3,M,13,0,"div",1)),e&2&&(s(2),x(a.toggle?2:-1),s(),x(a.user.getId!=-1?3:-1))},styles:["[_ngcontent-%COMP%]:root{--primary-blue: #4f46e5;--primary-blue-hover: #4338ca;--light-gray-hover: #f1f5f9;--text-color: #333}table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse;font-family:Inter,sans-serif;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000001a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e2e8f0}th[_ngcontent-%COMP%]{background-color:var(--primary-blue);color:#010b76;text-transform:uppercase;font-size:14px;letter-spacing:.03em;font-size:1.1em}tr[_ngcontent-%COMP%]:hover{background-color:var(--light-gray-hover)}button[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ffffff;border-radius:4px;background-color:var(--primary-blue);color:#000;cursor:pointer;transition:background-color .3s ease,transform .1s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--primary-blue-hover);transform:translateY(-1px);box-shadow:0 2px 4px #00000026;width:35%}.error-message[_ngcontent-%COMP%]{color:red;font-size:1rem;margin-top:.05rem;margin-bottom:.5rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width: 768px){table[_ngcontent-%COMP%]{box-shadow:none;border-radius:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{white-space:nowrap}}"]})};export{y as ViewQuiz};
